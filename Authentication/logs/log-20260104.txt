2026-01-04 10:13:46.288 +05:45 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2026-01-04 10:13:46.328 +05:45 [ERR] Failed executing DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT migration_id, product_version
FROM "__EFMigrationsHistory"
ORDER BY migration_id;
2026-01-04 10:26:14.944 +05:45 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2026-01-04 10:26:14.978 +05:45 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-01-04 10:26:15.114 +05:45 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2026-01-04 10:26:15.137 +05:45 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2026-01-04 10:26:15.137 +05:45 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-01-04 10:26:15.144 +05:45 [INF] Applying migration '20260104042738_alternon_nullable_to_nullable_LastLoginAt'.
2026-01-04 10:26:15.166 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE users ALTER COLUMN last_login_at DROP NOT NULL;
2026-01-04 10:26:15.167 +05:45 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20260104042738_alternon_nullable_to_nullable_LastLoginAt', '8.0.18');
2026-01-04 10:46:53.404 +05:45 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2026-01-04 10:46:53.472 +05:45 [ERR] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT migration_id, product_version
FROM "__EFMigrationsHistory"
ORDER BY migration_id;
2026-01-04 11:04:04.969 +05:45 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2026-01-04 11:04:04.998 +05:45 [ERR] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT migration_id, product_version
FROM "__EFMigrationsHistory"
ORDER BY migration_id;
2026-01-04 11:04:34.665 +05:45 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2026-01-04 11:04:34.693 +05:45 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-01-04 11:45:51.856 +05:45 [INF] User profile is available. Using 'C:\Users\L E N O V O\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-04 11:45:53.578 +05:45 [INF] Now listening on: http://localhost:5116
2026-01-04 11:45:53.610 +05:45 [INF] Application started. Press Ctrl+C to shut down.
2026-01-04 11:45:53.613 +05:45 [INF] Hosting environment: Development
2026-01-04 11:45:53.614 +05:45 [INF] Content root path: D:\Auth\AuthenticationAPI\Authentication
2026-01-04 11:45:54.626 +05:45 [INF] Request starting HTTP/1.1 GET http://localhost:5116/swagger/index.html - null null
2026-01-04 11:45:54.975 +05:45 [INF] Request finished HTTP/1.1 GET http://localhost:5116/swagger/index.html - 200 null text/html;charset=utf-8 362.2826ms
2026-01-04 11:45:54.987 +05:45 [INF] Request starting HTTP/1.1 GET http://localhost:5116/_framework/aspnetcore-browser-refresh.js - null null
2026-01-04 11:45:54.989 +05:45 [INF] Request starting HTTP/1.1 GET http://localhost:5116/_vs/browserLink - null null
2026-01-04 11:45:54.993 +05:45 [INF] Request finished HTTP/1.1 GET http://localhost:5116/_framework/aspnetcore-browser-refresh.js - 200 16527 application/javascript; charset=utf-8 6.635ms
2026-01-04 11:45:55.084 +05:45 [INF] Request finished HTTP/1.1 GET http://localhost:5116/_vs/browserLink - 200 null text/javascript; charset=UTF-8 94.4238ms
2026-01-04 11:45:55.160 +05:45 [INF] Request starting HTTP/1.1 GET http://localhost:5116/swagger/v1/swagger.json - null null
2026-01-04 11:45:55.186 +05:45 [INF] Request finished HTTP/1.1 GET http://localhost:5116/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 25.4907ms
2026-01-04 11:46:34.239 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:5116/api/Authentication/refresh-token - null 0
2026-01-04 11:46:34.251 +05:45 [WRN] Failed to determine the https port for redirect.
2026-01-04 11:46:34.320 +05:45 [INF] CORS policy execution successful.
2026-01-04 11:46:39.788 +05:45 [INF] Executing endpoint 'Authentication.WebApi.Controllers.AuthenticationController.RefreshToken (Authentication.WebApi)'
2026-01-04 11:46:39.827 +05:45 [INF] Route matched with {action = "RefreshToken", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller Authentication.WebApi.Controllers.AuthenticationController (Authentication.WebApi).
2026-01-04 11:46:44.102 +05:45 [INF] Executed DbCommand (130ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r.refresh_token_id, r.created_at, r.expiry_date, r.ip_address, r.is_revoked, r.replaced_by_token, r.revoked_at, r.token, r.user_agent, r.user_id, u.user_id, u.created_at, u.email, u.failed_login_attempts, u.first_name, u.is_active, u.is_email_verified, u.last_login_at, u.last_name, u.lockout_end, u.middle_name, u.password_hash
FROM refresh_tokens AS r
INNER JOIN users AS u ON r.user_id = u.user_id
WHERE r.token = @__refreshToken_0 AND NOT (r.is_revoked)
LIMIT 1
2026-01-04 11:46:44.687 +05:45 [INF] Executed DbCommand (28ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?', @p2='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE refresh_tokens SET is_revoked = @p0, replaced_by_token = @p1, revoked_at = @p2
WHERE refresh_token_id = @p3;
INSERT INTO refresh_tokens (created_at, expiry_date, ip_address, replaced_by_token, revoked_at, token, user_agent, user_id)
VALUES (@p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11)
RETURNING refresh_token_id, is_revoked;
2026-01-04 11:46:44.765 +05:45 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Authentication.BusinessLayer.DTO.UserInfoVM, Authentication.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Authentication.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-04 11:46:44.814 +05:45 [INF] Executed action Authentication.WebApi.Controllers.AuthenticationController.RefreshToken (Authentication.WebApi) in 4974.9676ms
2026-01-04 11:46:44.818 +05:45 [INF] Executed endpoint 'Authentication.WebApi.Controllers.AuthenticationController.RefreshToken (Authentication.WebApi)'
2026-01-04 11:46:44.835 +05:45 [INF] Request finished HTTP/1.1 POST http://localhost:5116/api/Authentication/refresh-token - 200 null application/json; charset=utf-8 10596.4891ms
